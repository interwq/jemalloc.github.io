<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> SSD backing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%20SSD%20backing&In-Reply-To=%3C62EB98AA-95AD-4FC1-A53E-AD832DE0B803%40canonware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000709.html">
   <LINK REL="Next"  HREF="000707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>SSD backing</H1>
    <B>Jason Evans</B> 
    <A HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%20SSD%20backing&In-Reply-To=%3C62EB98AA-95AD-4FC1-A53E-AD832DE0B803%40canonware.com%3E"
       TITLE="SSD backing">jasone at canonware.com
       </A><BR>
    <I>Mon Jan 27 17:49:06 PST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000709.html">SSD backing
</A></li>
        <LI>Next message: <A HREF="000707.html">Deadlock during application startup (jemalloc with prof:true)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#722">[ date ]</a>
              <a href="thread.html#722">[ thread ]</a>
              <a href="subject.html#722">[ subject ]</a>
              <a href="author.html#722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 15, 2014, at 9:22 PM, Nathan Kurz &lt;<A HREF="http://www.canonware.com/mailman/listinfo/jemalloc-discuss">nate at verse.com</A>&gt; wrote:
Several months ago, Jason Evans wrote:
&gt;&gt;<i> Also of relevance: the SSD backing feature you added existed
</I>&gt;&gt;<i> in 2.x versions of jemalloc, but I removed it because no one
</I>&gt;&gt;<i> ever claimed to have found it useful.
</I>&gt;<i> 
</I>&gt;<i> I'm just learning about this now, but if it's what I want it to be,
</I>&gt;<i> this seems like a very useful feature.   Do you have a description of
</I>&gt;<i> it written up, or a link to the code that last used it?
</I>&gt;<i> 
</I>&gt;<i> What I've been wanting for quite a while is a modern malloc() that
</I>&gt;<i> does all of it's allocations from one or a small number of arenas of
</I>&gt;<i> mmap() files.  All the meta-information (free-lists, locking, etc.)
</I>&gt;<i> should be stored in the arena itself.
</I>&gt;<i> 
</I>&gt;<i> It would be used as a shared memory segment between processes.   The
</I>&gt;<i> main use case would be holding index records for real time search.
</I>&gt;<i> There would be a limited number of writers but many readers.
</I>
Several people have expressed interest in an allocator that can be completely shared among processes via shared memory, but the 'swap' feature in jemalloc didn't support that, because there were quite a few static variables, spread across numerous compilation units, and all of those variables would have to be refactored for the shared memory allocator scenario.

Jason
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000709.html">SSD backing
</A></li>
	<LI>Next message: <A HREF="000707.html">Deadlock during application startup (jemalloc with prof:true)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#722">[ date ]</a>
              <a href="thread.html#722">[ thread ]</a>
              <a href="subject.html#722">[ subject ]</a>
              <a href="author.html#722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.canonware.com/mailman/listinfo/jemalloc-discuss">More information about the jemalloc-discuss
mailing list</a><br>
</body></html>
