<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> What's the difference between prof_accum on and off?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%20What%27s%20the%20difference%20between%20prof_accum%20on%20and%20off%3F&In-Reply-To=%3CBF42C40F-0692-45F1-BE25-35C3A232541B%40canonware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001193.html">
   <LINK REL="Next"  HREF="001194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>What's the difference between prof_accum on and off?</H1>
    <B>Jason Evans</B> 
    <A HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%20What%27s%20the%20difference%20between%20prof_accum%20on%20and%20off%3F&In-Reply-To=%3CBF42C40F-0692-45F1-BE25-35C3A232541B%40canonware.com%3E"
       TITLE="What's the difference between prof_accum on and off?">jasone at canonware.com
       </A><BR>
    <I>Mon Oct 19 11:51:38 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001193.html">What's the difference between prof_accum on and off?
</A></li>
        <LI>Next message: <A HREF="001194.html">statistical counters from jemalloc - Similar to mall info()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1195">[ date ]</a>
              <a href="thread.html#1195">[ thread ]</a>
              <a href="subject.html#1195">[ subject ]</a>
              <a href="author.html#1195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Oct 19, 2015, at 12:28 AM, cee1 &lt;<A HREF="http://www.canonware.com/mailman/listinfo/jemalloc-discuss">fykcee1 at gmail.com</A>&gt; wrote:
&gt;<i> I'm trying the profiling feature of jemalloc. And the option
</I>&gt;<i> prof_accum[1] makes me confused.
</I>&gt;<i> 
</I>&gt;<i> What does this option do? Does it make any difference in stat result if enabled?
</I>
If prof_accum is enabled, then *cumulative* allocation statistics (number of bytes and objects) are maintained in addition to *current* statistics.  You can pass command line flags to jeprof (ne pprof) to tell it to use the cumulative statistics instead of the current statistics.  This can be useful for finding hot allocation sites that cause throughput issues (distinct from  causing memory bloat).

The reason prof_accum is disabled by default is that otherwise all backtraces associated with sampled allocation events must be preserved, and for applications with high combinatorial complexity in their function call paths, there is no practical bound on how much memory the backtraces will consume.

Jason
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001193.html">What's the difference between prof_accum on and off?
</A></li>
	<LI>Next message: <A HREF="001194.html">statistical counters from jemalloc - Similar to mall info()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1195">[ date ]</a>
              <a href="thread.html#1195">[ thread ]</a>
              <a href="subject.html#1195">[ subject ]</a>
              <a href="author.html#1195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.canonware.com/mailman/listinfo/jemalloc-discuss">More information about the jemalloc-discuss
mailing list</a><br>
</body></html>
