<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> jemalloc-queries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%20jemalloc-queries&In-Reply-To=%3CSIXPR04MB0682EEAC6DD7CBA386BE8BD6F6600%40SIXPR04MB0682.apcprd04.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001159.html">
   <LINK REL="Next"  HREF="001157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>jemalloc-queries</H1>
    <B>Anshul Kundra</B> 
    <A HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%20jemalloc-queries&In-Reply-To=%3CSIXPR04MB0682EEAC6DD7CBA386BE8BD6F6600%40SIXPR04MB0682.apcprd04.prod.outlook.com%3E"
       TITLE="jemalloc-queries">anshul.kundra at hcl.com
       </A><BR>
    <I>Tue Aug 25 23:08:17 PDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001159.html">Semi-dual use of dynamic and static jemalloc
</A></li>
        <LI>Next message: <A HREF="001157.html">regarding jemalloc crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1156">[ date ]</a>
              <a href="thread.html#1156">[ thread ]</a>
              <a href="subject.html#1156">[ subject ]</a>
              <a href="author.html#1156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


I am studying jemalloc design so that this design can be used in server based application. Please provide some initial references related to metadata management of each memory allocation of any size in jemalloc.


1.  Is it possible to move the metadata allocation (Internal data structures for each arena a1, a2 .... narenas) from single arena &quot;a0&quot;?

Example:

I have two memory chunks (A &amp; B )or blocks of size  1GB each. One memory chunk A is used to hold metadata information (excluding chunk headers) for each memory request done from memory block B. If memory chunk A cant be able to hold more metadata then  a new memory block of same size 1 GB  is allocated (A1, A2........ An') and same is for B which will

Whether this strategy will work, if arena a0 will be used to hold metadata requests and all the other to serve memory requests. I am also finding out another solution but still not sure whether it works or not, Please see some description


For every Arena allocate two different chunks one to hold metadata information of small size requests and large size requests are already maintained in tree.


2.  Please provide some more details or references related to size class implementation, If  user want to customize the size class granularity to 1MB, 2MB instead of bytes, KB's what other factors need to consider during customization.


3. Is it possible to maintain chunk header separately instead of start of chunk?.


Please correct me if there is any gap in understanding the design of jemalloc and feasibility to club jemalloc with server application.


Thanks &amp; Best Regards,
Anshul Kundra


::<i>DISCLAIMER::
</I>----------------------------------------------------------------------------------------------------------------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and intended for the named recipient(s) only.
E-mail transmission is not guaranteed to be secure or error-free as information could be intercepted, corrupted,
lost, destroyed, arrive late or incomplete, or may contain viruses in transmission. The e mail and its contents
(with or without referred errors) shall therefore not attach any liability on the originator or HCL or its affiliates.
Views or opinions, if any, presented in this email are solely those of the author and may not necessarily reflect the
views or opinions of HCL or its affiliates. Any form of reproduction, dissemination, copying, disclosure, modification,
distribution and / or publication of this message without the prior written consent of authorized representative of
HCL is strictly prohibited. If you have received this email in error please delete it and notify the sender immediately.
Before opening any email and/or attachments, please check them for viruses and other defects.

----------------------------------------------------------------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://www.canonware.com/pipermail/jemalloc-discuss/attachments/20150826/8f5bcf4f/attachment.html">http://www.canonware.com/pipermail/jemalloc-discuss/attachments/20150826/8f5bcf4f/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001159.html">Semi-dual use of dynamic and static jemalloc
</A></li>
	<LI>Next message: <A HREF="001157.html">regarding jemalloc crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1156">[ date ]</a>
              <a href="thread.html#1156">[ thread ]</a>
              <a href="subject.html#1156">[ subject ]</a>
              <a href="author.html#1156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.canonware.com/mailman/listinfo/jemalloc-discuss">More information about the jemalloc-discuss
mailing list</a><br>
</body></html>
