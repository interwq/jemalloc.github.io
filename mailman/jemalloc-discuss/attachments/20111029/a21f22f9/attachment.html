<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;link&nbsp;with&nbsp;jemalloc.&nbsp;&nbsp;What&nbsp;happens&nbsp;is,&nbsp;after&nbsp;calling&nbsp;malloc(),&nbsp;the&lt;br&gt;value&nbsp;of&nbsp;one&nbsp;of&nbsp;my&nbsp;keys&nbsp;seems&nbsp;to&nbsp;change&nbsp;out&nbsp;from&nbsp;under&nbsp;me.&nbsp;&nbsp;Here&nbsp;is&nbsp;a&lt;br&gt;small&nbsp;example&nbsp;that&nbsp;demonstrates&nbsp;this:&lt;br&gt;http://itsapad.appspot.com/fancy/6.&nbsp;&nbsp;I&nbsp;am&nbsp;using&nbsp;jemalloc-2.2.1&nbsp;on&lt;br&gt;Linux.&nbsp;&nbsp;If&nbsp;I&nbsp;compile&nbsp;the&nbsp;example&nbsp;with&nbsp;gcc&nbsp;(ver&nbsp;4.4.3)&nbsp;using&nbsp;the&lt;br&gt;following&nbsp;command:&nbsp;'gcc&nbsp;-lpthread&nbsp;main.c'&nbsp;then&nbsp;both&nbsp;calls&nbsp;to&lt;br&gt;pthread_getspecific&nbsp;return&nbsp;a&nbsp;NULL&nbsp;pointer&nbsp;as&nbsp;expected.&nbsp;&nbsp;When&nbsp;I&nbsp;link&lt;br&gt;with&nbsp;jemalloc,&nbsp;however,&nbsp;('gcc&nbsp;-ljemalloc&nbsp;-lpthread&nbsp;main.c')&nbsp;then&nbsp;the&lt;br&gt;second&nbsp;call&nbsp;to&nbsp;pthread_getspecific&nbsp;returns&nbsp;some&nbsp;non-NULL&nbsp;value.&nbsp;&nbsp;Is&lt;br&gt;this&nbsp;a&nbsp;known&nbsp;bug&nbsp;or&nbsp;am&nbsp;I&nbsp;doing&nbsp;something&nbsp;wrong?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Kristen&nbsp;Eisenberg&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Billige&nbsp;Flüge&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Marketing&nbsp;GmbH&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Emanuelstr.&nbsp;3,&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;10317&nbsp;Berlin&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Deutschland&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Telefon:&nbsp;+49&nbsp;(33)&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;5310967&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Email:&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;utebachmeier&nbsp;at&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;gmail.com&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;Site:&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;DE&quot;&nbsp;style=&quot;mso-ansi-language:DE&quot;&gt;http://flug.airego.de<br>
-&nbsp;Billige&nbsp;Flüge&nbsp;vergleichen&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
