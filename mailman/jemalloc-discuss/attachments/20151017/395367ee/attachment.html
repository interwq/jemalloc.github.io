<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;In&nbsp;my&nbsp;application&nbsp;I&nbsp;need&nbsp;to&nbsp;keep&nbsp;an&nbsp;eye&nbsp;on&nbsp;how&nbsp;much&nbsp;Virtual&nbsp;memory&nbsp;is&nbsp;available&nbsp;for&nbsp;application&nbsp;to&nbsp;use.&lt;div&gt;I&nbsp;am&nbsp;able&nbsp;to&nbsp;get&nbsp;VM&nbsp;Upper&nbsp;limit&nbsp;for&nbsp;process&nbsp;by&nbsp;using&nbsp;getrlimit()&nbsp;(Getting&nbsp;that&nbsp;limit&nbsp;as&nbsp;15&nbsp;GB).&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;If&nbsp;virtual&nbsp;memory&nbsp;for&nbsp;that&nbsp;process&nbsp;reaches&nbsp;to&nbsp;14.5&nbsp;GB&nbsp;(i.e.&nbsp;Now&nbsp;only&nbsp;500&nbsp;MB&nbsp;VM&nbsp;is&nbsp;free.)&nbsp;we&nbsp;need&nbsp;to&nbsp;stop&nbsp;doing&nbsp;the&nbsp;processing.&lt;/div&gt;&lt;div&gt;So,&nbsp;I&nbsp;need&nbsp;to&nbsp;understand&nbsp;how&nbsp;much&nbsp;virtual&nbsp;memory&nbsp;is&nbsp;consumed&nbsp;by&nbsp;process&nbsp;at&nbsp;any&nbsp;point.&lt;/div&gt;&lt;div&gt;In&nbsp;glibc,&nbsp;we&nbsp;were&nbsp;able&nbsp;to&nbsp;get&nbsp;that&nbsp;information&nbsp;using&nbsp;mallinfo(). &lt;/div&gt;&lt;div&gt;Similar&nbsp;results&nbsp;I&nbsp;want&nbsp;to&nbsp;get&nbsp;using&nbsp;jemalloc.&nbsp;But,&nbsp;I&nbsp;am&nbsp;not&nbsp;getting&nbsp;exact&nbsp;results.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Below&nbsp;is&nbsp;the&nbsp;equation&nbsp;I&nbsp;am&nbsp;using&nbsp;to&nbsp;get&nbsp;free&nbsp;VM&nbsp;available:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;Get&nbsp;maximum&nbsp;size&nbsp;of&nbsp;process&#39;s&nbsp;virtual&nbsp;memory&nbsp;(Getting&nbsp;this&nbsp;maxlimit&nbsp;as&nbsp;15&nbsp;GB)&lt;/div&gt;&lt;div&gt;2.&nbsp;For&nbsp;getting&nbsp;process&#39;s&nbsp;fixed&nbsp;part&nbsp;(Text&nbsp;+&nbsp;stack)&nbsp;:&nbsp;(This&nbsp;calculation&nbsp;will&nbsp;be&nbsp;done&nbsp;only&nbsp;once)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; CodeSize&nbsp;=&nbsp;VMSize&nbsp;(Read&nbsp;of&nbsp;/proc/pid/status)&nbsp;-&nbsp;stats.mapped&lt;/div&gt;&lt;div&gt; &nbsp; -&nbsp;I&nbsp;assume&nbsp;above&nbsp;equation&nbsp;will&nbsp;give&nbsp;us&nbsp;fixed&nbsp;part&nbsp;of&nbsp;process.&lt;/div&gt;&lt;div&gt;3.&nbsp;Check&nbsp;if&nbsp;low&nbsp;memory&nbsp;limit&nbsp;hits?&lt;/div&gt;&lt;div&gt; if&nbsp; (maxlimit&nbsp;-&nbsp;CodeSize&nbsp;-&nbsp;stats.allocated&nbsp;)&nbsp;&lt;&nbsp;500&nbsp;MB&nbsp;notify&nbsp;process&nbsp;is&nbsp;running&nbsp;out&nbsp;of&nbsp;memory.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please&nbsp;correct&nbsp;me&nbsp;if&nbsp;I&nbsp;am&nbsp;missing&nbsp;any&nbsp;counters&nbsp;or&nbsp;doing&nbsp;some&nbsp;wrong&nbsp;assumptions&nbsp;in&nbsp;my&nbsp;calculation.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Prajakta&lt;/div&gt;&lt;/div&gt;<br>

</tt>
