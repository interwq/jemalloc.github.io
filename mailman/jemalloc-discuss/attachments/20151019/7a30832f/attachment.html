<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=us-ascii&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&nbsp;class=&quot;&quot;&gt;On&nbsp;Oct&nbsp;19,&nbsp;2015,&nbsp;at&nbsp;3:10&nbsp;AM,&nbsp;Prajakta&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:praj.jagtap@gmail.com&quot;&nbsp;class=&quot;&quot;&gt;praj.jagtap@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&nbsp;class=&quot;&quot;&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;by&nbsp;which&nbsp;we&nbsp;can&nbsp;get&nbsp;actual&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;data&nbsp;allocated&nbsp;by&nbsp;JEMALLOC&nbsp;+&nbsp;number&nbsp;of&nbsp;bytes&nbsp;allocated&nbsp;by&nbsp;mmap&nbsp;/&nbsp;bro&nbsp;system&nbsp;call&nbsp;in&nbsp;jemalloc?&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;am&nbsp;looking&nbsp;for&nbsp;counters&nbsp;similar&nbsp;to&nbsp;mallinfo&nbsp;counters&nbsp;in&nbsp;jemalloc.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Using&nbsp;mall&nbsp;info()&nbsp;we&nbsp;get&nbsp;information&nbsp;about&nbsp;memory&nbsp;allocations&nbsp;performed&nbsp;using&nbsp;malloc.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;I&nbsp;need&nbsp;similar&nbsp;counters&nbsp;from&nbsp;jemalloc:&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;-&nbsp;&lt;b&nbsp;class=&quot;&quot;&gt;hblkhd&lt;/b&gt;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;blocks&nbsp;currently&nbsp;allocated&nbsp;using&nbsp;mmap(2)&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;-&nbsp;&lt;b&nbsp;class=&quot;&quot;&gt;uordblks&lt;/b&gt;:&nbsp;&nbsp;Total&nbsp;number&nbsp;of&nbsp;bytes&nbsp;usd&nbsp;by&nbsp;in-use&nbsp;allocations&nbsp;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;-&nbsp;&lt;b&nbsp;class=&quot;&quot;&gt;fordblks&lt;/b&gt;:&nbsp;&nbsp;&nbsp;Total&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;free&nbsp;blocks.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Out&nbsp;of&nbsp;above&nbsp;3,&nbsp;I&nbsp;suspect,&nbsp;stats.allocated&nbsp;is&nbsp;similar&nbsp;to&nbsp;uordblks.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Unfortunately,&nbsp;mallinfo()'s&nbsp;API&nbsp;has&nbsp;some&nbsp;implementation&nbsp;detail&nbsp;baked&nbsp;in,&nbsp;and&nbsp;it&nbsp;doesn't&nbsp;map&nbsp;perfectly&nbsp;to&nbsp;jemalloc.&nbsp;&nbsp;Nonetheless,&nbsp;jemalloc&nbsp;does&nbsp;provide&nbsp;similar,&nbsp;more&nbsp;detailed&nbsp;stats.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;hblkhd:&nbsp;Under&nbsp;typical&nbsp;operating&nbsp;conditions,&nbsp;jemalloc&nbsp;allocates&nbsp;*all*&nbsp;memory&nbsp;via&nbsp;mmap(),&nbsp;so&nbsp;this&nbsp;stat&nbsp;isn't&nbsp;generally&nbsp;useful.&nbsp;&nbsp;That&nbsp;said,&nbsp;&lt;a&nbsp;href=&quot;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.arenas.i.large.allocated&quot;&nbsp;class=&quot;&quot;&gt;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.arenas.i.large.allocated&lt;/a&gt;&nbsp;and&nbsp;&lt;a&nbsp;href=&quot;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.arenas.i.huge.allocated&quot;&nbsp;class=&quot;&quot;&gt;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.arenas.i.huge.allocated&lt;/a&gt;&nbsp;may&nbsp;be&nbsp;of&nbsp;interest&nbsp;depending&nbsp;on&nbsp;your&nbsp;use&nbsp;case.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;uordblks:&nbsp;Precisely&nbsp;the&nbsp;same&nbsp;as&nbsp;&lt;a&nbsp;href=&quot;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.allocated&quot;&nbsp;class=&quot;&quot;&gt;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.allocated&lt;/a&gt;&nbsp;.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;fordblks:&nbsp;Use&nbsp;&lt;a&nbsp;href=&quot;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.resident&quot;&nbsp;class=&quot;&quot;&gt;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.resident&lt;/a&gt;&nbsp;or&nbsp;&lt;a&nbsp;href=&quot;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.mapped&quot;&nbsp;class=&quot;&quot;&gt;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.mapped&lt;/a&gt;&nbsp;and&nbsp;subtract&nbsp;out&nbsp;&lt;a&nbsp;href=&quot;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.active&quot;&nbsp;class=&quot;&quot;&gt;http://www.canonware.com/download/jemalloc/jemalloc-latest/doc/jemalloc.html#stats.active&lt;/a&gt;&nbsp;.&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&nbsp;class=&quot;&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;&quot;&gt;Jason&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
