<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Forgot&nbsp;to&nbsp;mention&nbsp;the&nbsp;version,&nbsp;it&nbsp;is&nbsp;jemalloc&nbsp;4.2.1 &lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Sep&nbsp;14,&nbsp;2016&nbsp;at&nbsp;11:11&nbsp;AM,&nbsp;Asmita&nbsp;Jagtap&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ajopensrc@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;ajopensrc@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;We&nbsp;are&nbsp;using&nbsp;jemalloc&nbsp;library&nbsp;(compiled&nbsp;with&nbsp;--enable-fill&nbsp;and&nbsp;--enable-debug&nbsp;options)&nbsp;in&nbsp;a&nbsp;multi-threaded&nbsp;daemon&nbsp;and&nbsp;seeing&nbsp;multiple&nbsp;cores&nbsp;during&nbsp;malloc/realloc&nbsp;with&nbsp;jemalloc&nbsp;library.&nbsp;The&nbsp;core&nbsp;files&nbsp;are&nbsp;approximately&nbsp;61GB&nbsp;and&nbsp;79GB&nbsp;in&nbsp;size,&nbsp;so&nbsp;this&nbsp;is&nbsp;typically&nbsp;seen&nbsp;under&nbsp;heavy&nbsp;memory&nbsp;usage&nbsp;situation. &lt;br&gt;&lt;br&gt;Are&nbsp;these&nbsp;issues&nbsp;in&nbsp;jemalloc&nbsp;code&nbsp;or&nbsp;the&nbsp;application&nbsp;code&nbsp;that&nbsp;is&nbsp;using&nbsp;jemalloc?&lt;div&gt;&lt;br&gt;&lt;div&gt;Can&nbsp;someone&nbsp;please&nbsp;clarify&nbsp;what&nbsp;these&nbsp;stacks&nbsp;/&nbsp;aborts&nbsp;mean&nbsp;and&nbsp;how&nbsp;to&nbsp;deal&nbsp;with&nbsp;them?&lt;br&gt;&lt;br&gt;stack&nbsp;for&nbsp;corefile1&nbsp;-&lt;br&gt;&lt;br&gt;(gdb)&nbsp;bt&lt;br&gt;#0&nbsp; 0x00007fdc399155f7&nbsp;in&nbsp;raise&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;br&gt;#1&nbsp; 0x00007fdc39916ce8&nbsp;in&nbsp;abort&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;br&gt;#2&nbsp; 0x00007fdc3a317fe4&nbsp;in&nbsp;je_extent_heap_remove&nbsp;(ph=0x7fd44530de90,&nbsp;phn=0x7fd0c022e0c0)&nbsp;at&nbsp;src/extent.c:191&lt;br&gt;#3&nbsp; 0x00007fdc3a3180e3&nbsp;in&nbsp;extent_heaps_remove&nbsp;(extent_heaps=0x7fd44530dda0,&nbsp;extent=0x7fd0c022e0c0)&nbsp;at&nbsp;src/extent.c:206&lt;br&gt;#4&nbsp; 0x00007fdc3a318c3f&nbsp;in&nbsp;extent_recycle&nbsp;(tsdn=0x7fdc329a6580,&nbsp;arena=0x7fd44530b680,&nbsp;r_extent_hooks=0x7fdc329a5438,&nbsp;extent_heaps=0x7fd44530dda0,&lt;br&gt; &nbsp; &nbsp;cache=false,&nbsp;new_addr=0x7fd0bfd0b740,&nbsp;usize=16384,&nbsp;pad=0,&nbsp;alignment=64,&nbsp;zero=0x7fdc329a5447,&nbsp;commit=0x7fdc329a5437,&nbsp;slab=false)&nbsp;at&nbsp;src/extent.c:424&lt;br&gt;#5&nbsp; 0x00007fdc3a3197f3&nbsp;in&nbsp;extent_alloc_retained&nbsp;(tsdn=0x7fdc329a6580,&nbsp;arena=0x7fd44530b680,&nbsp;r_extent_hooks=0x7fdc329a5438,&nbsp;new_addr=0x7fd0bfd0b740,&lt;br&gt; &nbsp; &nbsp;usize=16384,&nbsp;pad=0,&nbsp;alignment=64,&nbsp;zero=0x7fdc329a5447,&nbsp;commit=0x7fdc329a5437,&nbsp;slab=false)&nbsp;at&nbsp;src/extent.c:608&lt;br&gt;#6&nbsp; 0x00007fdc3a319a91&nbsp;in&nbsp;je_extent_alloc_wrapper&nbsp;(tsdn=0x7fdc329a6580,&nbsp;arena=0x7fd44530b680,&nbsp;r_extent_hooks=0x7fdc329a5438,&nbsp;new_addr=0x7fd0bfd0b740,&lt;br&gt; &nbsp; &nbsp;usize=16384,&nbsp;pad=0,&nbsp;alignment=64,&nbsp;zero=0x7fdc329a5447,&nbsp;commit=0x7fdc329a5437,&nbsp;slab=false)&nbsp;at&nbsp;src/extent.c:664&lt;br&gt;#7&nbsp; 0x00007fdc3a31d2c2&nbsp;in&nbsp;large_ralloc_no_move_expand&nbsp;(tsdn=0x7fdc329a6580,&nbsp;extent=0x7fd3412ba6c0,&nbsp;usize=32768,&nbsp;zero=false)&nbsp;at&nbsp;src/large.c:149&lt;br&gt;#8&nbsp; 0x00007fdc3a31d651&nbsp;in&nbsp;je_large_ralloc_no_move&nbsp;(tsdn=0x7fdc329a6580,&nbsp;extent=0x7fd3412ba6c0,&nbsp;usize_min=32768,&nbsp;usize_max=32768,&nbsp;zero=false)&lt;br&gt; &nbsp; &nbsp;at&nbsp;src/large.c:205&lt;br&gt;#9&nbsp; 0x00007fdc3a31d92f&nbsp;in&nbsp;je_large_ralloc&nbsp;(tsdn=0x7fdc329a6580,&nbsp;arena=0x0,&nbsp;extent=0x7fd3412ba6c0,&nbsp;usize=32768,&nbsp;alignment=0,&nbsp;zero=false,&lt;br&gt; &nbsp; &nbsp;tcache=0x7fd538d85780)&nbsp;at&nbsp;src/large.c:264&lt;br&gt;#10&nbsp;0x00007fdc3a305b10&nbsp;in&nbsp;je_arena_ralloc&nbsp;(tsdn=0x7fdc329a6580,&nbsp;arena=0x0,&nbsp;extent=0x7fd3412ba6c0,&nbsp;ptr=0x7fd0bfd06740,&nbsp;oldsize=16384,&nbsp;size=32768,&lt;br&gt; &nbsp; &nbsp;alignment=0,&nbsp;zero=false,&nbsp;tcache=0x7fd538d85780)&nbsp;at&nbsp;src/arena.c:1567&lt;br&gt;#11&nbsp;0x00007fdc3a2f9124&nbsp;in&nbsp;je_iralloct&nbsp;(tsdn=0x7fdc329a6580,&nbsp;extent=0x7fd3412ba6c0,&nbsp;ptr=0x7fd0bfd06740,&nbsp;oldsize=16384,&nbsp;size=32768,&nbsp;alignment=0,&lt;br&gt; &nbsp; &nbsp;zero=false,&nbsp;tcache=0x7fd538d85780,&nbsp;arena=0x0)&nbsp;at&nbsp;include/jemalloc/internal/&lt;wbr&gt;jemalloc_internal.h:1163&lt;br&gt;#12&nbsp;0x00007fdc3a2f91ad&nbsp;in&nbsp;je_iralloc&nbsp;(tsd=0x7fdc329a6580,&nbsp;extent=0x7fd3412ba6c0,&nbsp;ptr=0x7fd0bfd06740,&nbsp;oldsize=16384,&nbsp;size=32768,&nbsp;alignment=0,&nbsp;zero=false)&lt;br&gt; &nbsp; &nbsp;at&nbsp;include/jemalloc/internal/&lt;wbr&gt;jemalloc_internal.h:1172&lt;br&gt;#13&nbsp;0x00007fdc3a2fd883&nbsp;in&nbsp;realloc&nbsp;(ptr=0x7fd0bfd06740,&nbsp;size=32768)&nbsp;at&nbsp;src/jemalloc.c:1796&lt;br&gt;&lt;br&gt;stack&nbsp;for&nbsp;corefile2&nbsp;-&lt;br&gt;&lt;div&gt;&lt;div&gt;#0&nbsp; 0x00007f9170d7f5f7&nbsp;in&nbsp;raise&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;/div&gt;&lt;div&gt;#1&nbsp; 0x00007f9170d80ce8&nbsp;in&nbsp;abort&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;/div&gt;&lt;div&gt;#2&nbsp; 0x00007f917176b616&nbsp;in&nbsp;je_arena_extent_cache_maybe_&lt;wbr&gt;remove&nbsp;(arena=0x7f8a0d652180,&nbsp;extent=0x7f874860e180,&nbsp;dirty=true)&nbsp;at&nbsp;src/arena.c:119&lt;/div&gt;&lt;div&gt;#3&nbsp; 0x00007f9171782c5c&nbsp;in&nbsp;extent_recycle&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;r_extent_hooks=0x7f916be13388,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;extent_heaps=0x7f8a0d654268,&nbsp;cache=true,&nbsp;new_addr=0x0,&nbsp;usize=4096,&nbsp;pad=0,&nbsp;alignment=4096,&nbsp;zero=0x7f916be13387,&nbsp;commit=0x7f916be13297,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;slab=true)&nbsp;at&nbsp;src/extent.c:425&lt;/div&gt;&lt;div&gt;#4&nbsp; 0x00007f91717834df&nbsp;in&nbsp;je_extent_alloc_cache&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;r_extent_hooks=0x7f916be13388,&nbsp;new_addr=0x0,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;usize=4096,&nbsp;pad=0,&nbsp;alignment=4096,&nbsp;zero=0x7f916be13387,&nbsp;slab=true)&nbsp;at&nbsp;src/extent.c:554&lt;/div&gt;&lt;div&gt;#5&nbsp; 0x00007f917176b3b6&nbsp;in&nbsp;arena_extent_cache_alloc_&lt;wbr&gt;locked&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;r_extent_hooks=0x7f916be13388,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;new_addr=0x0,&nbsp;usize=4096,&nbsp;pad=0,&nbsp;alignment=4096,&nbsp;zero=0x7f916be13387,&nbsp;slab=true)&nbsp;at&nbsp;src/arena.c:63&lt;/div&gt;&lt;div&gt;#6&nbsp; 0x00007f917176dfd3&nbsp;in&nbsp;arena_slab_alloc&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;binind=1,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;bin_info=0x7f91717a2e48&nbsp;&lt;je_arena_bin_info+40&gt;)&nbsp;at&nbsp;src/arena.c:1024&lt;/div&gt;&lt;div&gt;#7&nbsp; 0x00007f917176e196&nbsp;in&nbsp;arena_bin_nonfull_slab_get&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;bin=0x7f8a0d6550e0,&nbsp;binind=1)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;at&nbsp;src/arena.c:1067&lt;/div&gt;&lt;div&gt;#8&nbsp; 0x00007f917176e2be&nbsp;in&nbsp;arena_bin_malloc_hard&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;bin=0x7f8a0d6550e0,&nbsp;binind=1)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;at&nbsp;src/arena.c:1105&lt;/div&gt;&lt;div&gt;#9&nbsp; 0x00007f917176e5a5&nbsp;in&nbsp;je_arena_tcache_fill_small&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;tbin=0x7f8a6e0d5008,&nbsp;binind=1,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;prof_accumbytes=0)&nbsp;at&nbsp;src/arena.c:1171&lt;/div&gt;&lt;div&gt;#10&nbsp;0x00007f917179b014&nbsp;in&nbsp;je_tcache_alloc_small_hard&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;tcache=0x7f8a6e0d4fc0,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;tbin=0x7f8a6e0d5008,&nbsp;binind=1,&nbsp;tcache_success=0x7f916be13576)&nbsp;at&nbsp;src/tcache.c:79&lt;/div&gt;&lt;div&gt;#11&nbsp;0x00007f917179a425&nbsp;in&nbsp;je_tcache_alloc_small&nbsp;(tsd=0x7f916be14580,&nbsp;arena=0x7f8a0d652180,&nbsp;tcache=0x7f8a6e0d4fc0,&nbsp;size=16,&nbsp;binind=1,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;zero=false,&nbsp;slow_path=true)&nbsp;at&nbsp;include/jemalloc/internal/&lt;wbr&gt;tcache.h:297&lt;/div&gt;&lt;div&gt;#12&nbsp;0x00007f917176acd0&nbsp;in&nbsp;je_arena_malloc&nbsp;(tsdn=0x7f916be14580,&nbsp;arena=0x0,&nbsp;size=16,&nbsp;ind=1,&nbsp;zero=false,&nbsp;tcache=0x7f8a6e0d4fc0,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;slow_path=true)&nbsp;at&nbsp;include/jemalloc/internal/&lt;wbr&gt;arena.h:538&lt;/div&gt;&lt;div&gt;#13&nbsp;0x00007f9171762612&nbsp;in&nbsp;je_iallocztm&nbsp;(tsdn=0x7f916be14580,&nbsp;size=16,&nbsp;ind=1,&nbsp;zero=false,&nbsp;tcache=0x7f8a6e0d4fc0,&nbsp;is_metadata=false,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;arena=0x0,&nbsp;slow_path=true)&nbsp;at&nbsp;include/jemalloc/internal/&lt;wbr&gt;jemalloc_internal.h:1005&lt;/div&gt;&lt;div&gt;#14&nbsp;0x00007f9171762706&nbsp;in&nbsp;je_ialloc&nbsp;(tsd=0x7f916be14580,&nbsp;size=16,&nbsp;ind=1,&nbsp;zero=false,&nbsp;slow_path=true)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;at&nbsp;include/jemalloc/internal/&lt;wbr&gt;jemalloc_internal.h:1017&lt;/div&gt;&lt;div&gt;#15&nbsp;0x00007f917176655e&nbsp;in&nbsp;ialloc_body&nbsp;(size=16,&nbsp;zero=false,&nbsp;tsdn=0x7f916be13770,&nbsp;usize=0x7f916be13768,&nbsp;slow_path=true)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;at&nbsp;src/jemalloc.c:1434&lt;/div&gt;&lt;div&gt;---Type&nbsp;&lt;return&gt;&nbsp;to&nbsp;continue,&nbsp;or&nbsp;q&nbsp;&lt;return&gt;&nbsp;to&nbsp;quit---&lt;/div&gt;&lt;div&gt;#16&nbsp;0x00007f91717667b8&nbsp;in&nbsp;malloc&nbsp;(size=16)&nbsp;at&nbsp;src/jemalloc.c:1476&lt;/div&gt;&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Asmita&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
