<tt>
I&#39;ve&nbsp;been&nbsp;looking&nbsp;through&nbsp;some&nbsp;of&nbsp;the&nbsp;jemalloc&nbsp;code&nbsp;and&nbsp;had&nbsp;a&nbsp;question&nbsp;about&nbsp;bitmap.h.&lt;br&gt;&lt;br&gt;Testing&nbsp;on&nbsp;a&nbsp;64-bit&nbsp;machine,&nbsp;the&nbsp;arena&nbsp;bin&nbsp;with&nbsp;the&nbsp;most&nbsp;elements&nbsp;is&nbsp;size=8&nbsp;with&nbsp;501&nbsp;items. &nbsp;Since&nbsp;a&nbsp;cacheline&nbsp;is&nbsp;commonly&nbsp;64&nbsp;bytes&nbsp;=&nbsp;512&nbsp;bits,&nbsp;a&nbsp;simpler&nbsp;single-level&nbsp;bitmap&nbsp;would&nbsp;seem&nbsp;to&nbsp;win&nbsp;just&nbsp;on&nbsp;memory&nbsp;effects.&lt;br&gt;<br>
&lt;br&gt;It&#39;s&nbsp;not&nbsp;clear&nbsp;to&nbsp;me&nbsp;if&nbsp;its&nbsp;advantageous&nbsp;on&nbsp;a&nbsp;branching&nbsp;basis,&nbsp;at&nbsp;least&nbsp;on&nbsp;64-bit. &nbsp;On&nbsp;average&nbsp;you&#39;d&nbsp;need&nbsp;to&nbsp;look&nbsp;at&nbsp;4&nbsp;words&nbsp;to&nbsp;find&nbsp;an&nbsp;unused&nbsp;8-byte&nbsp;entry,&nbsp;and&nbsp;fewer&nbsp;for&nbsp;other&nbsp;size&nbsp;bins. &nbsp;I&nbsp;guess&nbsp;on&nbsp;a&nbsp;32-bit&nbsp;platform,&nbsp;it&nbsp;might&nbsp;be&nbsp;a&nbsp;different&nbsp;story. &nbsp;Still,&nbsp;I&nbsp;wonder&nbsp;if&nbsp;it&nbsp;is&nbsp;worth&nbsp;touching&nbsp;another&nbsp;cache&nbsp;line&nbsp;to&nbsp;avoid&nbsp;the&nbsp;comparisons.&lt;br&gt;<br>
&lt;br&gt;Are&nbsp;there&nbsp;cases&nbsp;where&nbsp;the&nbsp;bitmap&nbsp;code&nbsp;is&nbsp;used&nbsp;for&nbsp;more&nbsp;than&nbsp;512&nbsp;items&nbsp;in&nbsp;it?&lt;br&gt;&lt;br&gt;-Mitch&lt;br&gt;<br>

</tt>
