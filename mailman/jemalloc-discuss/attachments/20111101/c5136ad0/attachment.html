<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Hi&nbsp;All,&nbsp;&lt;div&gt;&nbsp;&nbsp;At&nbsp;Netapp,&nbsp;we&nbsp;use&nbsp;a&nbsp;modified&nbsp;version&nbsp;of&nbsp;FreeBSD&nbsp;for&nbsp;our&nbsp;user-space&nbsp;environment.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We've&nbsp;hit&nbsp;a&nbsp;bunch&nbsp;OOM&nbsp;problems&nbsp;where&nbsp;we&nbsp;ONLY&nbsp;have&nbsp;a&nbsp;core...&nbsp;Solving&nbsp;them&nbsp;USED&nbsp;to&nbsp;be&lt;/div&gt;&lt;div&gt;like&nbsp;wandering&nbsp;around&nbsp;in&nbsp;the&nbsp;dark...&nbsp;so&nbsp;I&nbsp;wrote&nbsp;some&nbsp;GDB&nbsp;pythons&nbsp;pretty&nbsp;printers&nbsp;to&nbsp;walk&nbsp;the&nbsp;heap&nbsp;and&nbsp;give&nbsp;breakdowns&nbsp;of&nbsp;how&nbsp;memory&nbsp;is&nbsp;used&nbsp;+&nbsp;&lt;/div&gt;&lt;div&gt;do&nbsp;some&nbsp;basic&nbsp;analysis&nbsp;of&nbsp;each&nbsp;piece&nbsp;of&nbsp;memory.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Those&nbsp;macros&nbsp;are&nbsp;attached&nbsp;and&nbsp;work&nbsp;on&nbsp;both&nbsp;cores&nbsp;&amp;&nbsp;live&nbsp;processes&nbsp;on&nbsp;both&nbsp;FreeBSD&nbsp;and&nbsp;'jemlloc_linux'&nbsp;version&nbsp;of&nbsp;jemalloc&nbsp;under&nbsp;linux.&nbsp;(32-bit/64-bit&nbsp;both&nbsp;work.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Comments:&lt;/div&gt;&lt;div&gt;1)&nbsp;These&nbsp;macros&nbsp;are&nbsp;released&nbsp;under&nbsp;the&nbsp;same&nbsp;license&nbsp;as&nbsp;jemalloc.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&nbsp;They&nbsp;(currently)&nbsp;only&nbsp;support&nbsp;the&nbsp;jemalloc&nbsp;datastrutures&nbsp;of&nbsp;the&nbsp;FreeBSD&nbsp;&nbsp;version&nbsp;of&nbsp;jemalloc&nbsp;included&nbsp;in&nbsp;7.X&nbsp;and&nbsp;8.X&nbsp;FreeBSD&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;===&gt;&nbsp;&nbsp;&nbsp;(I&nbsp;haven't&nbsp;updated&nbsp;this&nbsp;to&nbsp;the&nbsp;latest&nbsp;jemalloc-2.X&nbsp;yet.)&nbsp;&nbsp;&lt;====&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;I&nbsp;have&nbsp;unit-tests&nbsp;to&nbsp;verify&nbsp;that&nbsp;program&nbsp;allocations&nbsp;and&nbsp;gdb&nbsp;reported&nbsp;allocations&nbsp;match.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;(If&nbsp;you're&nbsp;interested,&nbsp;we&nbsp;should&nbsp;figure&nbsp;how&nbsp;to&nbsp;integrate&nbsp;this&nbsp;with&nbsp;the&nbsp;jemalloc&nbsp;distribution.)&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;4)&nbsp;Fwiw..&nbsp;These&nbsp;can&nbsp;be&nbsp;extended.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;The&nbsp;internal&nbsp;functions&nbsp;can&nbsp;retrieve&nbsp;pointers&nbsp;to&nbsp;EVERY&nbsp;in-use&nbsp;piece&nbsp;of&nbsp;memory&nbsp;allocated&nbsp;through&nbsp;jemalloc.&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;RIght&nbsp;now,&nbsp;I&nbsp;use&nbsp;that&nbsp;to&nbsp;create&nbsp;the&nbsp;summary&nbsp;chart.&nbsp;&nbsp;Also,&nbsp;I&nbsp;can&nbsp;do&nbsp;some&nbsp;rudimentary&nbsp;analysis.&nbsp;(Is&nbsp;it&nbsp;a&nbsp;string?)&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;But..&nbsp;motivated&nbsp;people&nbsp;could&nbsp;search&nbsp;for&nbsp;OTHER&nbsp;important&nbsp;data-structures..&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;Try&nbsp;on&nbsp;linux:&nbsp;&lt;/div&gt;&lt;div&gt;1)&nbsp;Build&nbsp;linux-jemalloc.&lt;/div&gt;&lt;div&gt;2)&nbsp;load&nbsp;gdb-enabled&nbsp;python&nbsp;with&nbsp;'env&nbsp;LD_PRELOAD=../libjemalloc.so.0&nbsp;&nbsp;gdb7.2&nbsp;-q&nbsp;-x&nbsp;heap.py&nbsp;&lt;YOUR&nbsp;APP&gt;'&nbsp;(*)&lt;/div&gt;&lt;div&gt;3)&nbsp;run&lt;/div&gt;&lt;div&gt;4)&nbsp;br&nbsp;and&nbsp;type&nbsp;'heap'&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Help:&nbsp;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;(ugdb-amd64-7.2-02)help&nbsp;heap&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Show&nbsp;heap&nbsp;utilization&nbsp;for&nbsp;user-space&nbsp;cores&nbsp;and&nbsp;processes&nbsp;(BETA)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;code&nbsp;walks&nbsp;jemalloc&nbsp;heap&nbsp;datastructures&nbsp;to&nbsp;determine&nbsp;heap&nbsp;usage.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;splits&nbsp;the&nbsp;memory&nbsp;usage&nbsp;into&nbsp;buckets&nbsp;by&nbsp;size.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BETA:&nbsp;It&nbsp;is&nbsp;very&nbsp;memory&nbsp;intensive&nbsp;and&nbsp;can&nbsp;cause&nbsp;gdb&nbsp;to&nbsp;core.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Example:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ugdb-amd64-7.2-02)&nbsp;heap&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FreeBSD&nbsp;Heap&nbsp;Analysis&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------------&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Searching&nbsp;process&nbsp;virtual&nbsp;address&nbsp;space&nbsp;for&nbsp;'chunks'&nbsp;of&nbsp;the&nbsp;heap...&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculating&nbsp;memory&nbsp;usage&nbsp;for&nbsp;'chunks'&nbsp;in&nbsp;5&nbsp;heap&nbsp;arenas:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Walking&nbsp;Arena&nbsp;&nbsp;0&nbsp;(0x898f78)&nbsp;with&nbsp;&nbsp;&nbsp;2&nbsp;'chunks'...&nbsp;&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Walking&nbsp;Arena&nbsp;&nbsp;1&nbsp;(0x89a6f8)&nbsp;with&nbsp;&nbsp;&nbsp;0&nbsp;'chunks'...&nbsp;&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Walking&nbsp;Arena&nbsp;&nbsp;2&nbsp;(0x89b278)&nbsp;with&nbsp;&nbsp;&nbsp;0&nbsp;'chunks'...&nbsp;&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Walking&nbsp;Arena&nbsp;&nbsp;3&nbsp;(0x899b78)&nbsp;with&nbsp;&nbsp;19&nbsp;'chunks'...&nbsp;&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Walking&nbsp;Arena&nbsp;&nbsp;4&nbsp;(0x89bdf8)&nbsp;with&nbsp;&nbsp;&nbsp;0&nbsp;'chunks'...&nbsp;&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Heap&nbsp;allocation&nbsp;distribution&nbsp;(by&nbsp;size)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=================================================&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;96&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192&nbsp;bytes&nbsp;(&nbsp;0%)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;84&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;336&nbsp;bytes&nbsp;(&nbsp;0%)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2544&nbsp;allocs&nbsp;(&nbsp;1%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20352&nbsp;bytes&nbsp;(&nbsp;0%)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9569&nbsp;allocs&nbsp;(&nbsp;4%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;153104&nbsp;bytes&nbsp;(&nbsp;0%)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47567&nbsp;allocs&nbsp;(20%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1522144&nbsp;bytes&nbsp;(&nbsp;9%)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bin&nbsp;Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Num&nbsp;allocs&nbsp;&nbsp;&nbsp;&nbsp;%&nbsp;all&nbsp;allocs&nbsp;&nbsp;Total&nbsp;Bytes&nbsp;&nbsp;&nbsp;%&nbsp;of&nbsp;total&nbsp;bytes&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Paper&nbsp;describing&nbsp;jemalloc:&nbsp;&lt;a&nbsp;href=&quot;http://people.freebsd.org/~jasone/jemalloc/bsdcan2006/jemalloc.pdf&quot;&gt;http://people.freebsd.org/~jasone/jemalloc/bsdcan2006/jemalloc.pdf&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;More&nbsp;jemalloc&nbsp;details:&nbsp;&lt;a&nbsp;href=&quot;http://www.facebook.com/notes/facebook-engineering/scalable-memory-allocation-using-jemalloc/480222803919&quot;&gt;http://www.facebook.com/notes/facebook-engineering/scalable-memory-allocation-using-jemalloc/480222803919&lt;/a&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'heap&nbsp;&nbsp;&nbsp;&nbsp;stats&nbsp;[size]'&nbsp;=&gt;&nbsp;(default)&nbsp;Dump&nbsp;information&nbsp;about&nbsp;how&nbsp;the&nbsp;heap&nbsp;is&nbsp;used.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'heap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump&nbsp;[size]'&nbsp;=&gt;&nbsp;Write&nbsp;all&nbsp;of&nbsp;the&nbsp;memory&nbsp;to&nbsp;appropriately&nbsp;sized&nbsp;files.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'heap&nbsp;&nbsp;analyze&nbsp;[size]'&nbsp;=&gt;&nbsp;Try&nbsp;to&nbsp;the&nbsp;determine&nbsp;(and&nbsp;print)&nbsp;the&nbsp;objects&nbsp;located&nbsp;at&nbsp;the&nbsp;allocated&nbsp;memory.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'heap&nbsp;&nbsp;examine&nbsp;[size]'&nbsp;=&gt;&nbsp;Examine&nbsp;region&nbsp;as&nbsp;if&nbsp;it&nbsp;was&nbsp;a&nbsp;bunch&nbsp;of&nbsp;pointers.&nbsp;(ie.&nbsp;'x&nbsp;/2a&nbsp;0xdeadbeef')&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hope&nbsp;you&nbsp;enjoy!&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;(FWIW.&nbsp;&nbsp;Here's&nbsp;an&nbsp;example&nbsp;running&nbsp;a&nbsp;gnome&nbsp;app,&nbsp;FWIW:&nbsp;'env&nbsp;LD_PRELOAD=../libjemalloc.so.0&nbsp;gdb7.2&nbsp;-q&nbsp;-x&nbsp;/u/ezolt,spin/heap.py&nbsp;gedit')&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;[ezolt@cyclptc11&nbsp;test]$&nbsp;env&nbsp;LD_PRELOAD=../libjemalloc.so.0&nbsp;gdb7.2&nbsp;-q&nbsp;-x&nbsp;/u/ezolt,spin/heap.py&nbsp;gedit&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Reading&nbsp;symbols&nbsp;from&nbsp;/usr/bin/gedit...(no&nbsp;debugging&nbsp;symbols&nbsp;found)...done.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;(gdb)&nbsp;run&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Starting&nbsp;program:&nbsp;/usr/bin/gedit&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;[Thread&nbsp;debugging&nbsp;using&nbsp;libthread_db&nbsp;enabled]&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Program&nbsp;received&nbsp;signal&nbsp;SIGTSTP,&nbsp;Stopped&nbsp;(user).&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;0x00000038104cae0f&nbsp;in&nbsp;poll&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;(gdb)&nbsp;heap&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Jemalloc&nbsp;Heap&nbsp;Analysis&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;----------------------&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Searching&nbsp;process&nbsp;virtual&nbsp;address&nbsp;space&nbsp;for&nbsp;'chunks'&nbsp;of&nbsp;the&nbsp;heap...&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Calculating&nbsp;memory&nbsp;usage&nbsp;details&nbsp;for&nbsp;each&nbsp;'chunks'&nbsp;in&nbsp;1&nbsp;heap&nbsp;arenas:&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;Walking&nbsp;Arena&nbsp;&nbsp;0&nbsp;(0x2aaaaacb9040)&nbsp;with&nbsp;&nbsp;11&nbsp;'chunks'...&nbsp;&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;Walking&nbsp;global&nbsp;'Huge'&nbsp;allocations...&nbsp;&nbsp;DONE.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Heap&nbsp;allocation&nbsp;distribution&nbsp;(by&nbsp;size)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;=================================================&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;276&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;552&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;513&nbsp;allocs&nbsp;(&nbsp;1%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,052&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,458&nbsp;allocs&nbsp;(&nbsp;4%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11,664&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5,493&nbsp;allocs&nbsp;(15%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;87,888&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12,237&nbsp;allocs&nbsp;(34%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;391,584&nbsp;bytes&nbsp;(&nbsp;4%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4,061&nbsp;allocs&nbsp;(11%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;194,928&nbsp;bytes&nbsp;(&nbsp;2%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;64&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4,076&nbsp;allocs&nbsp;(11%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;260,864&nbsp;bytes&nbsp;(&nbsp;2%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,282&nbsp;allocs&nbsp;(&nbsp;3%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;102,560&nbsp;bytes&nbsp;(&nbsp;1%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;96&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;596&nbsp;allocs&nbsp;(&nbsp;1%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57,216&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;112&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;185&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20,720&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;119&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15,232&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;433&nbsp;allocs&nbsp;(&nbsp;1%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83,136&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;256&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;283&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72,448&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;320&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,217&nbsp;allocs&nbsp;(&nbsp;3%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;389,440&nbsp;bytes&nbsp;(&nbsp;4%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;384&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28,032&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;448&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;47&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21,056&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;512&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,210&nbsp;allocs&nbsp;(&nbsp;3%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;619,520&nbsp;bytes&nbsp;(&nbsp;6%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;768&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;670&nbsp;allocs&nbsp;(&nbsp;1%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;514,560&nbsp;bytes&nbsp;(&nbsp;5%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;1024&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;655&nbsp;allocs&nbsp;(&nbsp;1%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;670,720&nbsp;bytes&nbsp;(&nbsp;6%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;1280&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53,760&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;1536&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29,184&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;1792&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41,216&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;2048&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;163,840&nbsp;bytes&nbsp;(&nbsp;1%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;2304&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23,040&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;2560&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35,840&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;2816&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11,264&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;3072&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;393,216&nbsp;bytes&nbsp;(&nbsp;4%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;3328&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3,328&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;3584&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21,504&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;3840&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3,840&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;4096&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;42&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;172,032&nbsp;bytes&nbsp;(&nbsp;1%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;---Type&nbsp;&lt;return&gt;&nbsp;to&nbsp;continue,&nbsp;or&nbsp;q&nbsp;&lt;return&gt;&nbsp;to&nbsp;quit---&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;8192&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;278,528&nbsp;bytes&nbsp;(&nbsp;2%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;12288&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;614,400&nbsp;bytes&nbsp;(&nbsp;6%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;16384&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;262,144&nbsp;bytes&nbsp;(&nbsp;2%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;20480&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20,480&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;24576&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24,576&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;28672&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28,672&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;45056&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;90,112&nbsp;bytes&nbsp;(&nbsp;0%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;49152&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;147,456&nbsp;bytes&nbsp;(&nbsp;1%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;65536&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;655,360&nbsp;bytes&nbsp;(&nbsp;6%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;&nbsp;98304&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;98,304&nbsp;bytes&nbsp;(&nbsp;1%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;262144&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2,097,152&nbsp;bytes&nbsp;(21%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&nbsp;&nbsp;786432&nbsp;bytes&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;allocs&nbsp;(&nbsp;0%)&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;786,432&nbsp;bytes&nbsp;(&nbsp;8%)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Heap:&nbsp;35,382&nbsp;allocs&nbsp;(9,599,852&nbsp;bytes)&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Total&nbsp;VM&nbsp;allocated&nbsp;by&nbsp;heap:&nbsp;11,534,336&nbsp;bytes&nbsp;(In-use&nbsp;by&nbsp;application:&nbsp;9,599,852)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;(gdb)&nbsp;quit&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;A&nbsp;debugging&nbsp;session&nbsp;is&nbsp;active.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&lt;/span&gt;Inferior&nbsp;1&nbsp;[process&nbsp;7804]&nbsp;will&nbsp;be&nbsp;killed.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;Quit&nbsp;anyway?&nbsp;(y&nbsp;or&nbsp;n)&nbsp;y&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Courier&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;--Phil&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
