<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Jos,&nbsp;the&nbsp;assertion&nbsp;that&nbsp;&quot;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;if&nbsp;I&nbsp;swap&nbsp;out&nbsp;jemalloc&nbsp;for&nbsp;a&nbsp;different&nbsp;memory&nbsp;manager&nbsp;then&nbsp;they&nbsp;go&nbsp;away&quot;&nbsp;equals&nbsp;&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;I&nbsp;know&nbsp;these&nbsp;[problems]&nbsp;are&nbsp;jemalloc&nbsp;related&quot;&nbsp;is&nbsp;invalid,&nbsp;because&nbsp;it&nbsp;could&nbsp;be&nbsp;that&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;code&nbsp;related&nbsp;to&nbsp;the&nbsp;&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:12.8px&quot;&gt;highly&nbsp;threaded&nbsp;environments&quot;&nbsp;is&nbsp;simply&nbsp;not&nbsp;being&nbsp;hit&nbsp;when&nbsp;using&nbsp;a&nbsp;different&nbsp;memory&nbsp;manager&nbsp;-&nbsp;i.e.&nbsp;the&nbsp;problem&nbsp;could&nbsp;still&nbsp;be&nbsp;in&nbsp;the&nbsp;source&nbsp;of&nbsp;whatever&nbsp;software&nbsp;you&#39;re&nbsp;working&nbsp;with&nbsp;also,&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;somewhat&nbsp;less&nbsp;likely.&nbsp;A&nbsp;logical&nbsp;mistake&nbsp;to&nbsp;make.&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Nov&nbsp;19,&nbsp;2015&nbsp;at&nbsp;9:08&nbsp;PM,&nbsp;Jos&nbsp;Vernon&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:jv@websupergoo.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jv@websupergoo.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;I&#39;ve&nbsp;been&nbsp;using&nbsp;the&nbsp;GitHub shines77/jemalloc-win32&nbsp;for&nbsp;a&nbsp;while&nbsp;-&nbsp; that&nbsp;uses&nbsp;<br>
jemalloc&nbsp;3.6.0.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;However&nbsp;recently&nbsp;I&#39;ve&nbsp;hit&nbsp;problems&nbsp;relating&nbsp;to&nbsp;leaks&nbsp;in&nbsp;highly&nbsp;threaded&nbsp;<br>
environments.&nbsp;I&nbsp;know&nbsp;these&nbsp;are&nbsp;jemalloc&nbsp;related&nbsp;because&nbsp;if&nbsp;I&nbsp;swap&nbsp;out&nbsp;jemalloc&nbsp;<br>
for&nbsp;a&nbsp;different&nbsp;memory&nbsp;manager&nbsp;then&nbsp;they&nbsp;go&nbsp;away.&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;So&nbsp;it&nbsp;would&nbsp;seem&nbsp;to&nbsp;me&nbsp;that&nbsp;the&nbsp;first&nbsp;thing&nbsp;to&nbsp;do&nbsp;is&nbsp;to&nbsp;upgrade&nbsp;to&nbsp;4.0.4&nbsp;to&nbsp;<br>
see&nbsp;if&nbsp;the&nbsp;issue&nbsp;is&nbsp;resolved.&nbsp;However&nbsp;I&nbsp;am&nbsp;having&nbsp;some&nbsp;problem&nbsp;getting&nbsp;this&nbsp;to&nbsp;<br>
work&nbsp;under&nbsp;MSVC.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;can&nbsp;see&nbsp;that&nbsp;this&nbsp;is&nbsp;supposed&nbsp;to&nbsp;work&nbsp;because&nbsp;I&nbsp;can&nbsp;see&nbsp;MSVC&nbsp;bits&nbsp;in&nbsp;the&nbsp;<br>
config&nbsp;code.&nbsp;However&nbsp;there&nbsp;are&nbsp;lots&nbsp;of&nbsp;questions&nbsp;about&nbsp;this&nbsp;and&nbsp;a&nbsp;notable&nbsp;dearth&nbsp;<br>
of&nbsp;people&nbsp;who&nbsp;have&nbsp;been&nbsp;successful&nbsp;in&nbsp;this&nbsp;area.&nbsp;That&nbsp;includes&nbsp;me&nbsp;after&nbsp;my&nbsp;first&nbsp;<br>
day.&nbsp;:-(&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;MSVC&nbsp;bit&nbsp;is&nbsp;easy.&nbsp;It&#39;s&nbsp;getting&nbsp;the&nbsp;config&nbsp;to&nbsp;generate&nbsp;the&nbsp;right&nbsp;bits&nbsp;<br>
that&nbsp;is&nbsp;difficult. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;I&#39;m&nbsp;using&nbsp;cygwin.&nbsp;I&#39;ve&nbsp;put&nbsp;the&nbsp;Visual&nbsp;Studio&nbsp;2012&nbsp;environment&nbsp;variables&nbsp;<br>
into&nbsp;my&nbsp;shell&nbsp;so&nbsp;I&nbsp;can&nbsp;use&nbsp;MSVC&nbsp;CL&nbsp;and&nbsp;then&nbsp;I&#39;ve&nbsp;done&nbsp;an ./&lt;a&nbsp;href=&quot;http://autogen.sl/&quot;&nbsp;target=&quot;_blank&quot;&gt;autogen.sl&lt;/a&gt;&nbsp;CC=CL. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;This&nbsp;seems&nbsp;to&nbsp;work&nbsp;more&nbsp;or&nbsp;less&nbsp;ok.&nbsp;The&nbsp;results&nbsp;look&nbsp;feasible,.But&nbsp;then&nbsp;I&#39;m&nbsp;<br>
missing&nbsp;important&nbsp;bits&nbsp;like&nbsp;sensible&nbsp;values&nbsp;in&nbsp;size_classes.h.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;would&nbsp;love&nbsp;any&nbsp;pointers&nbsp;here.&nbsp;I&#39;m&nbsp;pretty&nbsp;hot&nbsp;on&nbsp;VC++&nbsp;so&nbsp;once&nbsp;I&nbsp;get&nbsp;the&nbsp;<br>
config&nbsp;going&nbsp;it&nbsp;will&nbsp;be&nbsp;fine.&nbsp;I&nbsp;am&nbsp;sure&nbsp;that&nbsp;will&nbsp;also&nbsp;be&nbsp;useful&nbsp;for&nbsp;other&nbsp;people&nbsp;who&nbsp;want&nbsp;to&nbsp;do&nbsp;similar&nbsp;things.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Jos&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;----------------------------------------------------------------------&lt;br&gt;jos&nbsp;<br>
vernon&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.websupergoo.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.websupergoo.com/&lt;/a&gt;&lt;br&gt;.NET&nbsp;Image&nbsp;Components&nbsp;&amp;&nbsp;<br>
Consultancy&lt;br&gt;----------------------------------------------------------------------&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
jemalloc-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:jemalloc-discuss@canonware.com&quot;&gt;jemalloc-discuss@canonware.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.canonware.com/mailman/listinfo/jemalloc-discuss&quot;&nbsp;rel=&quot;noreferrer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.canonware.com/mailman/listinfo/jemalloc-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_signature&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;font&nbsp;face=&quot;arial,helvetica,sans-serif&quot;&gt;Kind&nbsp;Regards,&lt;br&gt;God&nbsp;Bless,&lt;br&gt;--&nbsp;&lt;br&gt;Roel&nbsp;Van&nbsp;de&nbsp;Paar, &lt;/font&gt;&lt;font&nbsp;face=&quot;arial,helvetica,sans-serif&quot;&gt;CMDBA/CMDEV&nbsp;Senior&nbsp;QA&nbsp;Lead, &lt;/font&gt;Percona&lt;div&gt;&lt;font&nbsp;face=&quot;arial,helvetica,sans-serif&quot;&gt;Tel:&nbsp;+61&nbsp;2&nbsp;8004&nbsp;1288&nbsp;(UTC+10)&lt;br&gt;Mob:&nbsp;+61&nbsp;427&nbsp;141&nbsp;635&nbsp;(UTC+10)&lt;br&gt;Skype:&nbsp;percona.rvandepaar&lt;br&gt;&lt;/font&gt;&lt;font&nbsp;face=&quot;arial,helvetica,sans-serif&quot;&gt;&lt;a&nbsp;href=&quot;http://www.percona.com/services.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.percona.com/services.html&lt;/a&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Looking&nbsp;for&nbsp;Replication&nbsp;with&nbsp;Data&nbsp;Consistency?&lt;/div&gt;&lt;div&gt;Try&nbsp;&lt;a&nbsp;href=&quot;http://www.percona.com/software/percona-xtradb-cluster&quot;&nbsp;target=&quot;_blank&quot;&gt;Percona&nbsp;XtraDB&nbsp;Cluster&lt;/a&gt;!&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>

</tt>
