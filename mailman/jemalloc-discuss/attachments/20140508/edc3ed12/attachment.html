<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;been&nbsp;experimenting&nbsp;recently&nbsp;with&nbsp;jemalloc&nbsp;heap&nbsp;profiling,&nbsp;as&nbsp;way&nbsp;to&nbsp;debug&nbsp;memory&nbsp;leaks,&nbsp;but&nbsp;unfortunately&nbsp;it&nbsp;crashes&nbsp;quite&nbsp;frequently.&lt;br&gt;&lt;/div&gt;&lt;div&gt;CPU&nbsp;architecture&nbsp;is&nbsp;PPC&nbsp;,&nbsp;below&nbsp;is&nbsp;a&nbsp;typical&nbsp;backtraces&nbsp;I&nbsp;get&nbsp;-&nbsp;looks&nbsp;like&nbsp;the&nbsp;stack&nbsp;is&nbsp;corrupted.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Program&nbsp;terminated&nbsp;with&nbsp;signal&nbsp;11,&nbsp;Segmentation&nbsp;fault.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#0&nbsp; 0x0ffaab14&nbsp;in&nbsp;je_prof_backtrace&nbsp;(bt=dwarf2_read_address:&nbsp;Corrupted&nbsp;DWARF&nbsp;expression.&lt;/div&gt;&lt;div&gt;)&nbsp;at&nbsp;prof.c:398&lt;/div&gt;<br>
&lt;div&gt;..&lt;/div&gt;&lt;div&gt;#3&nbsp; 0x0ff7691c&nbsp;in&nbsp;je_choose_arena&nbsp;(arena=&lt;value&nbsp;optimized&nbsp;out&gt;)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;at&nbsp;src/jemalloc/internal/jemalloc_internal.h:711&lt;/div&gt;&lt;div&gt;#4&nbsp; je_tcache_get&nbsp;(create=&lt;value&nbsp;optimized&nbsp;out&gt;)&nbsp;at&nbsp;src/jemalloc/internal/tcache.h:242&lt;/div&gt;<br>
&lt;div&gt;#5&nbsp; je_arena_malloc&nbsp;(try_tcache=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;zero=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;size=&lt;value&nbsp;optimized&nbsp;out&gt;, &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;arena=&lt;value&nbsp;optimized&nbsp;out&gt;)&nbsp;at&nbsp;src/jemalloc/internal/arena.h:956&lt;/div&gt;<br>
&lt;div&gt;#6&nbsp; je_imalloct&nbsp;(arena=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;try_tcache=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;size=&lt;value&nbsp;optimized&nbsp;out&gt;)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;at&nbsp;src/jemalloc/internal/jemalloc_internal.h:771&lt;/div&gt;&lt;div&gt;#7&nbsp; imallocx&nbsp;(arena=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;try_tcache=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;zero=&lt;value&nbsp;optimized&nbsp;out&gt;, &lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp;alignment=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;usize=&lt;value&nbsp;optimized&nbsp;out&gt;)&nbsp;at&nbsp;jemalloc.c:1421&lt;/div&gt;&lt;div&gt;#8&nbsp; imallocx_prof_sample&nbsp;(usize=dwarf2_read_address:&nbsp;Corrupted&nbsp;DWARF&nbsp;expression.&lt;/div&gt;&lt;div&gt;)&nbsp;at&nbsp;jemalloc.c:1436&lt;/div&gt;<br>
&lt;div&gt;...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Can&nbsp;anyone&nbsp;tell&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;known&nbsp;problem&nbsp;and&nbsp;if&nbsp;can&nbsp;be&nbsp;overcome&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Martin.&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
