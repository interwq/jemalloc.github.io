<tt>
Hello,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;using&nbsp;jemalloc&nbsp;for&nbsp;my&nbsp;server&nbsp;application&nbsp;and&nbsp;I&nbsp;have&nbsp;been&nbsp;monitoring&nbsp;the&nbsp;memory&nbsp;(rss)&nbsp;for&nbsp;several&nbsp;days&nbsp;and&nbsp;it&nbsp;continues&nbsp;to&nbsp;rise. &nbsp;I&nbsp;have&nbsp;previously&nbsp;monitored&nbsp;the&nbsp;application&nbsp;using&nbsp;valgrind&nbsp;for&nbsp;several&nbsp;days&nbsp;and&nbsp;it&nbsp;reported&nbsp;no&nbsp;memory&nbsp;leaks.&lt;br&gt;<br>
&lt;br&gt;This&nbsp;leads&nbsp;me&nbsp;to&nbsp;believe&nbsp;that&nbsp;the&nbsp;rise&nbsp;in&nbsp;memory&nbsp;consumption&nbsp;(rss)&nbsp;is&nbsp;due&nbsp;to&nbsp;memory&nbsp;fragmentation.&lt;br&gt;&lt;br&gt;With&nbsp;this&nbsp;in&nbsp;mind,&nbsp;I&nbsp;added&nbsp;to&nbsp;my&nbsp;application&nbsp;the&nbsp;call&nbsp;to&nbsp;&lt;code&nbsp;class=&quot;function&quot;&gt;malloc_stats_print&lt;/code&gt;(&lt;em&nbsp;class=&quot;parameter&quot;&gt;&lt;code&gt;&lt;/code&gt;&lt;/em&gt;)&nbsp;function&nbsp;and&nbsp;I&nbsp;poll&nbsp;this&nbsp;function&nbsp;every&nbsp;hour&nbsp;and&nbsp;save&nbsp;the&nbsp;results. &nbsp;From&nbsp;what&nbsp;I&nbsp;see&nbsp;and&nbsp;understand&nbsp;from&nbsp;this&nbsp;report,&nbsp;I&nbsp;do&nbsp;indeed&nbsp;see&nbsp;the&nbsp;memory&nbsp;consumption&nbsp;rising&nbsp;and&nbsp;I&nbsp;also&nbsp;noticed&nbsp;that&nbsp;the&nbsp;number&nbsp;of&nbsp;bigger&nbsp;allocations&nbsp;increases&nbsp;(~2.5&nbsp;MB)&nbsp;over&nbsp;time.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;have&nbsp;been&nbsp;reading&nbsp;quite&nbsp;a&nbsp;bit&nbsp;about&nbsp;jemalloc,&nbsp;and&nbsp;what&nbsp;I&nbsp;fail&nbsp;to&nbsp;understand&nbsp;how&nbsp;to&nbsp;do&nbsp;yet&nbsp;is&nbsp;how&nbsp;to&nbsp;use&nbsp;this&nbsp;report&nbsp;to&nbsp;support&nbsp;the&nbsp;notion&nbsp;that&nbsp;my&nbsp;application&nbsp;is&nbsp;actually&nbsp;experiencing&nbsp;memory&nbsp;fragmentation.&lt;br&gt;&lt;br&gt;So&nbsp;my&nbsp;questions&nbsp;are:&lt;br&gt;<br>
&lt;br&gt;&lt;ol&gt;&lt;li&gt;How&nbsp;can&nbsp;I&nbsp;use&nbsp;the&nbsp;&lt;code&nbsp;class=&quot;function&quot;&gt;malloc_stats_print&lt;/code&gt;(&lt;em&nbsp;class=&quot;parameter&quot;&gt;&lt;code&gt;&lt;/code&gt;&lt;/em&gt;)&nbsp;stats&nbsp;to&nbsp;show&nbsp;that&nbsp;my&nbsp;application&nbsp;is&nbsp;suffering&nbsp;from&nbsp;memory&nbsp;fragmentation?&lt;/li&gt;&lt;li&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;help&nbsp;eliminate&nbsp;fragmentation&nbsp;in&nbsp;jemalloc,&nbsp;perhaps&nbsp;by&nbsp;calling&nbsp;an&nbsp;extended&nbsp;facility?&lt;br&gt;<br>
&lt;/li&gt;&lt;li&gt;Will&nbsp;using&nbsp;thread&nbsp;cache&nbsp;flushing&nbsp;and&nbsp;forced&nbsp;dirty&nbsp;page&nbsp;purging&nbsp;help&nbsp;reduce&nbsp;fragmentation?&nbsp;Is&nbsp;it&nbsp;a&nbsp;good&nbsp;idea?&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Thanks&nbsp;a&nbsp;lot&nbsp;for&nbsp;the&nbsp;help&nbsp;and&nbsp;have&nbsp;a&nbsp;great&nbsp;day,&lt;/p&gt;&lt;p&gt;Benjamin&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;<br>

</tt>
