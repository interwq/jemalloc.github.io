<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;use &lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:monospace;font-size:medium&quot;&gt;opt.prof_accum&nbsp;to&nbsp;profile&nbsp;memory&nbsp;allocations.&nbsp;Sometimes&nbsp;performance&nbsp;degradation&nbsp;is&nbsp;too&nbsp;high&nbsp;because&nbsp;getting&nbsp;stacks&nbsp;is&nbsp;a&nbsp;heavy&nbsp;operation.&nbsp;In&nbsp;resulting&nbsp;backtraces&nbsp;we&nbsp;see&nbsp;some&nbsp;relatively&nbsp;small&nbsp;allocations&nbsp;we&nbsp;are&nbsp;not&nbsp;interested&nbsp;in.&nbsp;With&nbsp;DTrace&nbsp;our&nbsp;usual&nbsp;case&nbsp;is&nbsp;to&nbsp;cut&nbsp;allocations&nbsp;smaller&nbsp;than&nbsp;16&nbsp;KB.&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;add&nbsp;option&nbsp;to&nbsp;cut&nbsp;allocations&nbsp;smaller,&nbsp;than&nbsp;specified&nbsp;one,&nbsp;e.g.&nbsp;&quot;opt.prof_cut&quot; &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:&#39;Times&nbsp;New&nbsp;Roman&#39;;font-size:medium&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;color:rgb(0,0,0);font-family:&#39;Times&nbsp;New&nbsp;Roman&#39;;font-size:medium&quot;&gt;ssize_t&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:&#39;Times&nbsp;New&nbsp;Roman&#39;;font-size:medium&quot;&gt;).&nbsp;Will&nbsp;it&nbsp;be&nbsp;accepted&nbsp;upstream?&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:monospace;font-size:medium&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-- &lt;/div&gt;&lt;div&gt;Cheers,&lt;br&gt;Evgeniy<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
