<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> 2MB (hugetlb) page support on Linux
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%202MB%20%28hugetlb%29%20page%20support%20on%20Linux&In-Reply-To=%3CCAB6p_25CfnH5bnrhNV0zTqgn5zWmLSVG_DB7AazFKrvupzjSdA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000555.html">
   <LINK REL="Next"  HREF="000558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>2MB (hugetlb) page support on Linux</H1>
    <B>Vinay Y S</B> 
    <A HREF="mailto:jemalloc-discuss%40canonware.com?Subject=Re%3A%202MB%20%28hugetlb%29%20page%20support%20on%20Linux&In-Reply-To=%3CCAB6p_25CfnH5bnrhNV0zTqgn5zWmLSVG_DB7AazFKrvupzjSdA%40mail.gmail.com%3E"
       TITLE="2MB (hugetlb) page support on Linux">vinay.ys at gmail.com
       </A><BR>
    <I>Tue Jan 29 11:01:18 PST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000555.html">[PATCH] fix building for s390 systems
</A></li>
        <LI>Next message: <A HREF="000558.html">2MB (hugetlb) page support on Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#556">[ date ]</a>
              <a href="thread.html#556">[ thread ]</a>
              <a href="subject.html#556">[ subject ]</a>
              <a href="author.html#556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I'm trying to use jemalloc as the allocator for Membase (a
persistent/replicated memcached) on x86_64 Linux. With 4KB page size, the
overhead (fragmentation) for allocations greater than 4KB (say 5000 bytes)
that fall into 8KB 'large' allocation class is pretty high.

To make the wastage a bit less, we would need more classes in the 'small'
size. Given how page purge works, I understand just adding more classes in
there or faking a higher page size won't work.

Luckily my target OS - x86_64 linux supports 2MB huge pages. Can jemalloc
take advantage of this? Is there a way to enable this?

Thanks,
Vinay Y S
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://www.canonware.com/pipermail/jemalloc-discuss/attachments/20130130/e1acc7ce/attachment.html">http://www.canonware.com/pipermail/jemalloc-discuss/attachments/20130130/e1acc7ce/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000555.html">[PATCH] fix building for s390 systems
</A></li>
	<LI>Next message: <A HREF="000558.html">2MB (hugetlb) page support on Linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#556">[ date ]</a>
              <a href="thread.html#556">[ thread ]</a>
              <a href="subject.html#556">[ subject ]</a>
              <a href="author.html#556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.canonware.com/mailman/listinfo/jemalloc-discuss">More information about the jemalloc-discuss
mailing list</a><br>
</body></html>
